<!DOCTYPE html>
<html>
<head>
  <title>JDoodle Embed test</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
</head>
<body>
  
    <div data-pym-src="https://www.jdoodle.com/embed/v1/3b300201fa4c51a3"></div>
    <button onclick="getCode()">Get Code</button>
    <script src="https://www.jdoodle.com/assets/jdoodle-pym.min.js" type="text/javascript"></script>
    <script>
      function getCode() {
        pym.autoInitInstances[0].sendMessage('getCode')
      }
      window.addEventListener("message", (event) => {
        if (event.origin === "https://www.jdoodle.com" && event.data.script) {
          console.log(event.data.script)
        }
      });
    </script>
 

</body>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js"></script>
<script src="script.js"></script>
</html>
